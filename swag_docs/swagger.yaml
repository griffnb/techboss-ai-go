definitions:
  account.Account:
    properties:
      created_at:
        format: date-time
        type: string
      created_by_urn:
        type: string
      deleted:
        type: integer
      disabled:
        type: integer
      email:
        type: string
      email_verified_at_ts:
        type: integer
      external_id:
        type: string
      first_name:
        type: string
      hashed_password:
        type: string
      id:
        format: uuid
        type: string
      is_super_user_session:
        type: integer
      last_login_ts:
        type: integer
      last_name:
        type: string
      organization_id:
        format: uuid
        type: string
      password_updated_at_ts:
        type: integer
      phone:
        type: string
      properties:
        $ref: '#/definitions/account.Properties'
      role:
        enum:
        - -1
        - 0
        - 1
        - 40
        - 50
        - 100
        type: integer
        x-enum-comments:
          ROLE_ADMIN: System Admin
          ROLE_ANY_AUTHORIZED: Any Authorized
          ROLE_UNAUTHORIZED: Unauthorized
          ROLE_USER: User
        x-enum-descriptions:
        - Unauthorized
        - Any Authorized
        - User
        - ""
        - ""
        - System Admin
        x-enum-varnames:
        - ROLE_UNAUTHORIZED
        - ROLE_ANY_AUTHORIZED
        - ROLE_USER
        - ROLE_ORG_ADMIN
        - ROLE_ORG_OWNER
        - ROLE_ADMIN
      signup_properties:
        $ref: '#/definitions/account.SignupProperties'
      status:
        enum:
        - 100
        - 200
        - 300
        type: integer
        x-enum-varnames:
        - STATUS_ACTIVE
        - STATUS_DISABLED
        - STATUS_DELETED
      test_user_type:
        type: integer
      updated_at:
        format: date-time
        type: string
      updated_by_urn:
        type: string
      urn:
        type: string
    required:
    - id
    - urn
    - created_by_urn
    - updated_by_urn
    - status
    - deleted
    - disabled
    - updated_at
    - created_at
    - first_name
    - last_name
    - email
    - phone
    - external_id
    - test_user_type
    - organization_id
    - role
    - properties
    - signup_properties
    - hashed_password
    - password_updated_at_ts
    - email_verified_at_ts
    - last_login_ts
    - is_super_user_session
    title: Account
    type: object
  account.AccountJoined:
    properties:
      created_at:
        format: date-time
        type: string
      created_by_name:
        type: string
      created_by_urn:
        type: string
      deleted:
        type: integer
      disabled:
        type: integer
      email:
        type: string
      email_verified_at_ts:
        type: integer
      external_id:
        type: string
      first_name:
        type: string
      hashed_password:
        type: string
      id:
        format: uuid
        type: string
      is_super_user_session:
        type: integer
      last_login_ts:
        type: integer
      last_name:
        type: string
      name:
        type: string
      organization_id:
        format: uuid
        type: string
      organization_name:
        type: string
      password_updated_at_ts:
        type: integer
      phone:
        type: string
      properties:
        $ref: '#/definitions/account.Properties'
      role:
        enum:
        - -1
        - 0
        - 1
        - 40
        - 50
        - 100
        type: integer
        x-enum-comments:
          ROLE_ADMIN: System Admin
          ROLE_ANY_AUTHORIZED: Any Authorized
          ROLE_UNAUTHORIZED: Unauthorized
          ROLE_USER: User
        x-enum-descriptions:
        - Unauthorized
        - Any Authorized
        - User
        - ""
        - ""
        - System Admin
        x-enum-varnames:
        - ROLE_UNAUTHORIZED
        - ROLE_ANY_AUTHORIZED
        - ROLE_USER
        - ROLE_ORG_ADMIN
        - ROLE_ORG_OWNER
        - ROLE_ADMIN
      signup_properties:
        $ref: '#/definitions/account.SignupProperties'
      status:
        enum:
        - 100
        - 200
        - 300
        type: integer
        x-enum-varnames:
        - STATUS_ACTIVE
        - STATUS_DISABLED
        - STATUS_DELETED
      test_user_type:
        type: integer
      updated_at:
        format: date-time
        type: string
      updated_by_name:
        type: string
      updated_by_urn:
        type: string
      urn:
        type: string
    required:
    - id
    - urn
    - created_by_urn
    - updated_by_urn
    - status
    - deleted
    - disabled
    - updated_at
    - created_at
    - first_name
    - last_name
    - email
    - phone
    - external_id
    - test_user_type
    - organization_id
    - role
    - properties
    - signup_properties
    - hashed_password
    - password_updated_at_ts
    - email_verified_at_ts
    - last_login_ts
    - is_super_user_session
    - name
    - organization_name
    - created_by_name
    - updated_by_name
    title: AccountJoined
    type: object
  account.AccountJoinedPublic:
    properties:
      created_at:
        format: date-time
        type: string
      created_by_urn:
        type: string
      deleted:
        type: integer
      disabled:
        type: integer
      email:
        type: string
      external_id:
        type: string
      first_name:
        type: string
      id:
        format: uuid
        type: string
      is_super_user_session:
        type: integer
      last_name:
        type: string
      organization_id:
        format: uuid
        type: string
      phone:
        type: string
      role:
        enum:
        - -1
        - 0
        - 1
        - 40
        - 50
        - 100
        type: integer
        x-enum-comments:
          ROLE_ADMIN: System Admin
          ROLE_ANY_AUTHORIZED: Any Authorized
          ROLE_UNAUTHORIZED: Unauthorized
          ROLE_USER: User
        x-enum-descriptions:
        - Unauthorized
        - Any Authorized
        - User
        - ""
        - ""
        - System Admin
        x-enum-varnames:
        - ROLE_UNAUTHORIZED
        - ROLE_ANY_AUTHORIZED
        - ROLE_USER
        - ROLE_ORG_ADMIN
        - ROLE_ORG_OWNER
        - ROLE_ADMIN
      status:
        enum:
        - 100
        - 200
        - 300
        type: integer
        x-enum-varnames:
        - STATUS_ACTIVE
        - STATUS_DISABLED
        - STATUS_DELETED
      test_user_type:
        type: integer
      updated_at:
        format: date-time
        type: string
      updated_by_urn:
        type: string
      urn:
        type: string
    required:
    - id
    - urn
    - created_by_urn
    - updated_by_urn
    - status
    - deleted
    - disabled
    - updated_at
    - created_at
    - first_name
    - last_name
    - email
    - phone
    - external_id
    - test_user_type
    - organization_id
    - role
    - is_super_user_session
    title: AccountJoinedPublic
    type: object
  account.AccountPublic:
    properties:
      created_at:
        format: date-time
        type: string
      created_by_urn:
        type: string
      deleted:
        type: integer
      disabled:
        type: integer
      email:
        type: string
      external_id:
        type: string
      first_name:
        type: string
      id:
        format: uuid
        type: string
      is_super_user_session:
        type: integer
      last_name:
        type: string
      organization_id:
        format: uuid
        type: string
      phone:
        type: string
      role:
        enum:
        - -1
        - 0
        - 1
        - 40
        - 50
        - 100
        type: integer
        x-enum-comments:
          ROLE_ADMIN: System Admin
          ROLE_ANY_AUTHORIZED: Any Authorized
          ROLE_UNAUTHORIZED: Unauthorized
          ROLE_USER: User
        x-enum-descriptions:
        - Unauthorized
        - Any Authorized
        - User
        - ""
        - ""
        - System Admin
        x-enum-varnames:
        - ROLE_UNAUTHORIZED
        - ROLE_ANY_AUTHORIZED
        - ROLE_USER
        - ROLE_ORG_ADMIN
        - ROLE_ORG_OWNER
        - ROLE_ADMIN
      status:
        enum:
        - 100
        - 200
        - 300
        type: integer
        x-enum-varnames:
        - STATUS_ACTIVE
        - STATUS_DISABLED
        - STATUS_DELETED
      test_user_type:
        type: integer
      updated_at:
        format: date-time
        type: string
      updated_by_urn:
        type: string
      urn:
        type: string
    required:
    - id
    - urn
    - created_by_urn
    - updated_by_urn
    - status
    - deleted
    - disabled
    - updated_at
    - created_at
    - first_name
    - last_name
    - email
    - phone
    - external_id
    - test_user_type
    - organization_id
    - role
    - is_super_user_session
    title: AccountPublic
    type: object
  account.AccountWithFeaturesPublic:
    properties:
      billing_plan_id:
        format: uuid
        type: string
      billing_plan_level:
        type: integer
      billing_plan_name:
        type: string
      billing_plan_price:
        type: integer
      created_at:
        format: date-time
        type: string
      created_by_urn:
        type: string
      deleted:
        type: integer
      disabled:
        type: integer
      email:
        type: string
      external_id:
        type: string
      feature_set:
        $ref: '#/definitions/billing_plan.FeatureSetPublic'
      first_name:
        type: string
      id:
        format: uuid
        type: string
      is_super_user_session:
        type: integer
      last_name:
        type: string
      organization_id:
        format: uuid
        type: string
      phone:
        type: string
      role:
        enum:
        - -1
        - 0
        - 1
        - 40
        - 50
        - 100
        type: integer
        x-enum-comments:
          ROLE_ADMIN: System Admin
          ROLE_ANY_AUTHORIZED: Any Authorized
          ROLE_UNAUTHORIZED: Unauthorized
          ROLE_USER: User
        x-enum-descriptions:
        - Unauthorized
        - Any Authorized
        - User
        - ""
        - ""
        - System Admin
        x-enum-varnames:
        - ROLE_UNAUTHORIZED
        - ROLE_ANY_AUTHORIZED
        - ROLE_USER
        - ROLE_ORG_ADMIN
        - ROLE_ORG_OWNER
        - ROLE_ADMIN
      status:
        enum:
        - 100
        - 200
        - 300
        type: integer
        x-enum-varnames:
        - STATUS_ACTIVE
        - STATUS_DISABLED
        - STATUS_DELETED
      test_user_type:
        type: integer
      updated_at:
        format: date-time
        type: string
      updated_by_urn:
        type: string
      urn:
        type: string
    required:
    - id
    - urn
    - created_by_urn
    - updated_by_urn
    - status
    - deleted
    - disabled
    - updated_at
    - created_at
    - first_name
    - last_name
    - email
    - phone
    - external_id
    - test_user_type
    - organization_id
    - role
    - is_super_user_session
    - billing_plan_level
    - billing_plan_price
    - billing_plan_id
    - billing_plan_name
    - feature_set
    title: AccountWithFeaturesPublic
    type: object
  account.Properties:
    properties:
      external_user_info: {}
      invite_key:
        type: string
      invite_ts:
        format: int64
        type: integer
      last_seen:
        format: int64
        type: integer
      verify_email_key:
        type: string
    required:
    - invite_key
    - invite_ts
    - last_seen
    - external_user_info
    - verify_email_key
    title: AccountProperties
    type: object
  account.SignupProperties:
    properties:
      is_oauth:
        format: int64
        type: integer
    required:
    - is_oauth
    title: AccountSignupProperties
    type: object
  account_service.TestUserInput:
    properties:
      organization_id:
        type: string
    required:
    - organization_id
    type: object
  accounts.APIResponse:
    properties:
      account:
        $ref: '#/definitions/account.Account'
      organization:
        $ref: '#/definitions/organization.Organization'
    required:
    - account
    - organization
    type: object
  accounts.CheckKeyResponse:
    properties:
      valid:
        type: boolean
    required:
    - valid
    type: object
  accounts.ExistingCheck:
    properties:
      cf_token:
        type: string
      email:
        type: string
    required:
    - cf_token
    - email
    type: object
  accounts.ExistingResponse:
    properties:
      exists:
        type: boolean
    required:
    - exists
    type: object
  accounts.PasswordInput:
    properties:
      current_password:
        type: string
      password:
        type: string
      password_confirmation:
        type: string
    required:
    - current_password
    - password
    - password_confirmation
    type: object
  accounts.PasswordResetInput:
    properties:
      email:
        type: string
      hash:
        type: string
    required:
    - email
    - hash
    type: object
  accounts.ResendVerifyEmailPayload:
    properties:
      cf_token:
        type: string
    required:
    - cf_token
    type: object
  accounts.ResetPasswordInput:
    properties:
      password:
        type: string
      password_confirmation:
        type: string
      resetKey:
        type: string
    required:
    - password
    - password_confirmation
    - resetKey
    type: object
  accounts.SetPasswordInput:
    properties:
      password:
        type: string
      password_confirmation:
        type: string
      verify:
        type: string
    required:
    - password
    - password_confirmation
    - verify
    type: object
  accounts.SignupResponse:
    properties:
      redirect_url:
        type: string
      token:
        type: string
      verification_token:
        type: string
    required:
    - token
    type: object
  accounts.UpdatePrimaryEmailAddressPayload:
    properties:
      cf_token:
        type: string
      email:
        type: string
    required:
    - cf_token
    - email
    type: object
  accounts.VerifyInput:
    properties:
      email:
        type: string
      verify:
        type: string
    required:
    - verify
    type: object
  accounts.VerifyResponse:
    properties:
      redirect_url:
        type: string
      token:
        type: string
    required:
    - token
    type: object
  billing_plan.FeatureSet:
    properties:
      advanced_analytics:
        format: int64
        type: integer
      custom_branding:
        format: int64
        type: integer
      priority_support:
        format: int64
        type: integer
    required:
    - custom_branding
    - advanced_analytics
    - priority_support
    title: BillingPlanFeatureSet
    type: object
  billing_plan.FeatureSetPublic:
    properties:
      advanced_analytics:
        format: int64
        type: integer
    required:
    - advanced_analytics
    title: BillingPlanFeatureSetPublic
    type: object
  github_installation.GithubInstallation:
    properties:
      account_id:
        format: uuid
        type: string
      app_slug:
        type: string
      created_at:
        format: date-time
        type: string
      created_by_urn:
        type: string
      deleted:
        type: integer
      disabled:
        type: integer
      github_account_id:
        type: string
      github_account_name:
        type: string
      github_account_type:
        enum:
        - 0
        - 1
        type: integer
        x-enum-varnames:
        - ACCOUNT_TYPE_USER
        - ACCOUNT_TYPE_ORGANIZATION
      id:
        format: uuid
        type: string
      installation_id:
        type: string
      permissions:
        additionalProperties: {}
        type: object
      repository_access:
        type: string
      status:
        enum:
        - 100
        - 200
        - 300
        type: integer
        x-enum-varnames:
        - STATUS_ACTIVE
        - STATUS_DISABLED
        - STATUS_DELETED
      suspended:
        type: integer
      updated_at:
        format: date-time
        type: string
      updated_by_urn:
        type: string
      urn:
        type: string
    required:
    - id
    - urn
    - created_by_urn
    - updated_by_urn
    - status
    - deleted
    - disabled
    - updated_at
    - created_at
    - account_id
    - installation_id
    - github_account_id
    - github_account_type
    - github_account_name
    - repository_access
    - permissions
    - suspended
    - app_slug
    title: GithubInstallation
    type: object
  github_installation.GithubInstallationJoined:
    properties:
      account_id:
        format: uuid
        type: string
      app_slug:
        type: string
      created_at:
        format: date-time
        type: string
      created_by_urn:
        type: string
      deleted:
        type: integer
      disabled:
        type: integer
      github_account_id:
        type: string
      github_account_name:
        type: string
      github_account_type:
        enum:
        - 0
        - 1
        type: integer
        x-enum-varnames:
        - ACCOUNT_TYPE_USER
        - ACCOUNT_TYPE_ORGANIZATION
      id:
        format: uuid
        type: string
      installation_id:
        type: string
      permissions:
        additionalProperties: {}
        type: object
      repository_access:
        type: string
      status:
        enum:
        - 100
        - 200
        - 300
        type: integer
        x-enum-varnames:
        - STATUS_ACTIVE
        - STATUS_DISABLED
        - STATUS_DELETED
      suspended:
        type: integer
      updated_at:
        format: date-time
        type: string
      updated_by_urn:
        type: string
      urn:
        type: string
    required:
    - id
    - urn
    - created_by_urn
    - updated_by_urn
    - status
    - deleted
    - disabled
    - updated_at
    - created_at
    - account_id
    - installation_id
    - github_account_id
    - github_account_type
    - github_account_name
    - repository_access
    - permissions
    - suspended
    - app_slug
    title: GithubInstallationJoined
    type: object
  organization.MetaData:
    properties:
      onboard_answers:
        additionalProperties: {}
        type: object
      vector_store_id:
        additionalProperties:
          type: string
        type: object
    required:
    - vector_store_id
    - onboard_answers
    title: OrganizationMetaData
    type: object
  organization.Organization:
    properties:
      billing_plan_price_id:
        format: uuid
        type: string
      created_at:
        format: date-time
        type: string
      created_by_urn:
        type: string
      deleted:
        type: integer
      disabled:
        type: integer
      email_domains:
        items:
          type: string
        type: array
      external_id:
        type: string
      feature_set_overrides:
        $ref: '#/definitions/billing_plan.FeatureSet'
      id:
        format: uuid
        type: string
      meta_data:
        $ref: '#/definitions/organization.MetaData'
      name:
        type: string
      properties:
        $ref: '#/definitions/organization.Properties'
      status:
        enum:
        - 100
        - 200
        - 300
        type: integer
        x-enum-varnames:
        - STATUS_ACTIVE
        - STATUS_DISABLED
        - STATUS_DELETED
      stripe_id:
        type: string
      subdomain:
        type: string
      updated_at:
        format: date-time
        type: string
      updated_by_urn:
        type: string
      urn:
        type: string
    required:
    - id
    - urn
    - created_by_urn
    - updated_by_urn
    - status
    - deleted
    - disabled
    - updated_at
    - created_at
    - name
    - external_id
    - stripe_id
    - billing_plan_price_id
    - properties
    - meta_data
    - email_domains
    - subdomain
    - feature_set_overrides
    title: Organization
    type: object
  organization.Properties:
    properties:
      billing_email:
        type: string
    required:
    - billing_email
    title: OrganizationProperties
    type: object
  response.ErrorResponse:
    properties:
      error:
        type: string
      success:
        default: false
        type: boolean
    required:
    - error
    - success
    type: object
  response.SuccessResponse:
    properties:
      data: {}
      success:
        default: true
        type: boolean
    required:
    - data
    - success
    type: object
  sandbox.MetaData:
    properties:
      last_s3_sync:
        format: int64
        type: integer
      sync_stats:
        $ref: '#/definitions/sandbox.SyncStats'
    required:
    - last_s3_sync
    - sync_stats
    title: SandboxMetaData
    type: object
  sandbox.Sandbox:
    properties:
      account_id:
        format: uuid
        type: string
      agent_id:
        format: uuid
        type: string
      created_at:
        format: date-time
        type: string
      created_by_urn:
        type: string
      deleted:
        type: integer
      disabled:
        type: integer
      external_id:
        type: string
      id:
        format: uuid
        type: string
      meta_data:
        $ref: '#/definitions/sandbox.MetaData'
      organization_id:
        format: uuid
        type: string
      status:
        enum:
        - 100
        - 200
        - 300
        type: integer
        x-enum-varnames:
        - STATUS_ACTIVE
        - STATUS_DISABLED
        - STATUS_DELETED
      type:
        enum:
        - 1
        type: integer
        x-enum-varnames:
        - TYPE_CLAUDE_CODE
      updated_at:
        format: date-time
        type: string
      updated_by_urn:
        type: string
      urn:
        type: string
    required:
    - id
    - urn
    - created_by_urn
    - updated_by_urn
    - status
    - deleted
    - disabled
    - updated_at
    - created_at
    - organization_id
    - account_id
    - meta_data
    - type
    - agent_id
    - external_id
    title: Sandbox
    type: object
  sandbox.SandboxPublic:
    properties:
      account_id:
        format: uuid
        type: string
      agent_id:
        format: uuid
        type: string
      created_at:
        format: date-time
        type: string
      created_by_urn:
        type: string
      deleted:
        type: integer
      disabled:
        type: integer
      external_id:
        type: string
      id:
        format: uuid
        type: string
      organization_id:
        format: uuid
        type: string
      status:
        enum:
        - 100
        - 200
        - 300
        type: integer
        x-enum-varnames:
        - STATUS_ACTIVE
        - STATUS_DISABLED
        - STATUS_DELETED
      updated_at:
        format: date-time
        type: string
      updated_by_urn:
        type: string
      urn:
        type: string
    required:
    - id
    - urn
    - created_by_urn
    - updated_by_urn
    - status
    - deleted
    - disabled
    - updated_at
    - created_at
    - organization_id
    - account_id
    - agent_id
    - external_id
    title: SandboxPublic
    type: object
  sandbox.SyncStats:
    properties:
      bytes_transferred:
        format: int64
        type: integer
      duration_ms:
        format: int64
        type: integer
      files_deleted:
        type: integer
      files_downloaded:
        type: integer
      files_skipped:
        type: integer
    required:
    - files_downloaded
    - files_deleted
    - files_skipped
    - bytes_transferred
    - duration_ms
    title: SandboxSyncStats
    type: object
  sandbox.Type:
    enum:
    - 1
    type: integer
    x-enum-varnames:
    - TYPE_CLAUDE_CODE
  sandbox_service.FileInfo:
    properties:
      checksum:
        type: string
      is_directory:
        type: boolean
      modified_at:
        type: string
      name:
        type: string
      path:
        type: string
      size:
        type: integer
    required:
    - is_directory
    - modified_at
    - name
    - path
    - size
    type: object
  sandbox_service.FileListResponse:
    properties:
      files:
        items:
          $ref: '#/definitions/sandbox_service.FileInfo'
        type: array
      page:
        type: integer
      per_page:
        type: integer
      total_count:
        type: integer
      total_pages:
        type: integer
    required:
    - files
    - page
    - per_page
    - total_count
    - total_pages
    type: object
  sandbox_service.FileTreeNode:
    properties:
      children:
        items:
          $ref: '#/definitions/sandbox_service.FileTreeNode'
        type: array
      is_directory:
        type: boolean
      modified_at:
        type: string
      name:
        type: string
      path:
        type: string
      size:
        type: integer
    required:
    - is_directory
    - name
    - path
    type: object
  sandboxes.ClaudeRequest:
    properties:
      messages:
        description: Conversation messages
        items:
          properties:
            content:
              description: Content of the message (string or array)
              items:
                $ref: '#/definitions/sandboxes.ContentItem'
              type: array
            role:
              description: Role of the message (e.g., "user", "assistant")
              type: string
          required:
          - content
          - role
          type: object
        type: array
      model:
        description: Model to use (optional, default handled by service)
        type: string
    required:
    - messages
    - model
    type: object
  sandboxes.ContentItem:
    properties:
      text:
        type: string
      type:
        type: string
    required:
    - text
    - type
    type: object
  sandboxes.CreateSandboxTemplateRequest:
    properties:
      account_id:
        description: Account ID (optional, for future use)
        type: string
      agent_id:
        description: Agent ID (optional, for future use)
        type: string
      type:
        allOf:
        - $ref: '#/definitions/sandbox.Type'
        description: Provider type (1=Claude Code)
    required:
    - account_id
    - agent_id
    - type
    type: object
  sandboxes.SyncSandboxResponse:
    properties:
      bytes_transferred:
        type: integer
      duration_ms:
        type: integer
      files_deleted:
        type: integer
      files_downloaded:
        type: integer
      files_skipped:
        type: integer
      sandbox_id:
        type: string
    required:
    - bytes_transferred
    - duration_ms
    - files_deleted
    - files_downloaded
    - files_skipped
    - sandbox_id
    type: object
info:
  contact: {}
paths:
  /account:
    get:
      consumes:
      - application/json
      description: List Account
      parameters:
      - description: search by q
        in: query
        name: q
        type: string
      - default: 100
        description: limit results
        in: query
        maximum: 1000
        minimum: 1
        name: limit
        type: integer
      - default: 0
        description: offset results
        in: query
        minimum: 0
        name: offset
        type: integer
      - default: created_at desc
        description: sort results e.g. 'created_at desc'
        in: query
        name: order
        type: string
      - description: filters, see readme
        in: query
        name: filters
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/response.SuccessResponse'
            - properties:
                data:
                  items:
                    $ref: '#/definitions/account.AccountJoinedPublic'
                  type: array
              type: object
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/response.ErrorResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/response.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/response.ErrorResponse'
      summary: List Account
      tags:
      - Account
      - CRUD
  /account/:
    post:
      consumes:
      - application/json
      description: Create Account
      parameters:
      - description: Account Data
        in: body
        name: data
        required: true
        schema:
          $ref: '#/definitions/account.AccountPublic'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/response.SuccessResponse'
            - properties:
                data:
                  $ref: '#/definitions/account.AccountPublic'
              type: object
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/response.ErrorResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/response.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/response.ErrorResponse'
      summary: Create Account
      tags:
      - Account
      - CRUD
  /account/{id}:
    delete:
      consumes:
      - application/json
      description: Marks an account as deleted by setting status to USER_DELETED
      parameters:
      - description: Account ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/response.SuccessResponse'
            - properties:
                data:
                  $ref: '#/definitions/account.AccountJoinedPublic'
              type: object
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/response.ErrorResponse'
      summary: Delete account
      tags:
      - Account
    get:
      consumes:
      - application/json
      description: Get Account
      parameters:
      - description: Account ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/response.SuccessResponse'
            - properties:
                data:
                  $ref: '#/definitions/account.AccountJoinedPublic'
              type: object
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/response.ErrorResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/response.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/response.ErrorResponse'
      summary: Get Account
      tags:
      - Account
      - CRUD
    put:
      consumes:
      - application/json
      description: Update Account
      parameters:
      - description: Account ID
        in: path
        name: id
        required: true
        type: string
      - description: Account Data
        in: body
        name: data
        required: true
        schema:
          $ref: '#/definitions/account.AccountPublic'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/response.SuccessResponse'
            - properties:
                data:
                  $ref: '#/definitions/account.AccountPublic'
              type: object
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/response.ErrorResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/response.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/response.ErrorResponse'
      summary: Update Account
      tags:
      - Account
      - CRUD
  /account/{id}/cancel:
    post:
      consumes:
      - application/json
      description: Cancels a pending invitation and invalidates the invite session
      parameters:
      - description: Account ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/response.SuccessResponse'
            - properties:
                data:
                  $ref: '#/definitions/account.AccountJoinedPublic'
              type: object
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/response.ErrorResponse'
      summary: Cancel invite
      tags:
      - Account
  /account/{id}/resend:
    post:
      consumes:
      - application/json
      description: Resends invitation email to a pending account
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/response.SuccessResponse'
            - properties:
                data:
                  $ref: '#/definitions/account.AccountJoinedPublic'
              type: object
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/response.ErrorResponse'
      summary: Resend invite
      tags:
      - Account
  /account/check:
    post:
      consumes:
      - application/json
      description: Checks whether an email address is already registered
      parameters:
      - description: Email to check
        in: body
        name: body
        required: true
        schema:
          $ref: '#/definitions/accounts.ExistingCheck'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/response.SuccessResponse'
            - properties:
                data:
                  $ref: '#/definitions/accounts.ExistingResponse'
              type: object
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/response.ErrorResponse'
      summary: Check existing email
      tags:
      - Account
  /account/email:
    put:
      consumes:
      - application/json
      description: Updates the user's primary email address for unverified accounts
      parameters:
      - description: Email update details
        in: body
        name: body
        required: true
        schema:
          $ref: '#/definitions/accounts.UpdatePrimaryEmailAddressPayload'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/response.SuccessResponse'
            - properties:
                data:
                  type: boolean
              type: object
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/response.ErrorResponse'
      summary: Update primary email
      tags:
      - Account
  /account/me:
    get:
      consumes:
      - application/json
      description: Retrieves the authenticated user's account details with joined
        data
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/response.SuccessResponse'
            - properties:
                data:
                  $ref: '#/definitions/account.AccountWithFeaturesPublic'
              type: object
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/response.ErrorResponse'
      summary: Get current user
      tags:
      - Account
  /account/password:
    put:
      consumes:
      - application/json
      description: Updates the user's password after verifying current password
      parameters:
      - description: Password update details
        in: body
        name: body
        required: true
        schema:
          $ref: '#/definitions/accounts.PasswordInput'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/response.SuccessResponse'
            - properties:
                data:
                  type: boolean
              type: object
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/response.ErrorResponse'
      summary: Update password
      tags:
      - Account
  /account/password/check:
    get:
      consumes:
      - application/json
      description: Validates whether a password reset key is still valid and active
      parameters:
      - description: Reset key to validate
        in: query
        name: key
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/response.SuccessResponse'
            - properties:
                data:
                  $ref: '#/definitions/accounts.CheckKeyResponse'
              type: object
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/response.ErrorResponse'
      summary: Check reset key validity
      tags:
      - Account
  /account/password/reset:
    post:
      consumes:
      - application/json
      description: Resets the user's password using the reset key from email
      parameters:
      - description: Password reset details
        in: body
        name: body
        required: true
        schema:
          $ref: '#/definitions/accounts.ResetPasswordInput'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/response.SuccessResponse'
            - properties:
                data:
                  type: boolean
              type: object
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/response.ErrorResponse'
        "403":
          description: Forbidden
          schema:
            $ref: '#/definitions/response.ErrorResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/response.ErrorResponse'
      summary: Reset password
      tags:
      - Account
  /account/password/reset/send:
    post:
      consumes:
      - application/json
      description: Sends a password reset email with a temporary session key
      parameters:
      - description: Email and verification hash
        in: body
        name: body
        required: true
        schema:
          $ref: '#/definitions/accounts.PasswordResetInput'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/response.SuccessResponse'
            - properties:
                data:
                  type: boolean
              type: object
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/response.ErrorResponse'
        "403":
          description: Forbidden
          schema:
            $ref: '#/definitions/response.ErrorResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/response.ErrorResponse'
      summary: Send password reset email
      tags:
      - Account
  /account/password/set:
    post:
      consumes:
      - application/json
      description: Sets a password for the first time on an existing account using
        invite verification
      parameters:
      - description: Password setup details
        in: body
        name: body
        required: true
        schema:
          $ref: '#/definitions/accounts.SetPasswordInput'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/response.SuccessResponse'
            - properties:
                data:
                  $ref: '#/definitions/account.AccountPublic'
              type: object
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/response.ErrorResponse'
      summary: Set password for new account
      tags:
      - Account
  /account/verify/email:
    post:
      consumes:
      - application/json
      description: Verifies a user's email address using the verification key and
        creates a user session
      parameters:
      - description: Verification details
        in: body
        name: body
        required: true
        schema:
          $ref: '#/definitions/accounts.VerifyInput'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/response.SuccessResponse'
            - properties:
                data:
                  $ref: '#/definitions/accounts.VerifyResponse'
              type: object
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/response.ErrorResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/response.ErrorResponse'
      summary: Verify email address
      tags:
      - Account
  /account/verify/invite:
    post:
      consumes:
      - application/json
      description: Verifies an account invitation using the verification key and creates
        a user session
      parameters:
      - description: Verification details
        in: body
        name: body
        required: true
        schema:
          $ref: '#/definitions/accounts.VerifyInput'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/response.SuccessResponse'
            - properties:
                data:
                  $ref: '#/definitions/accounts.VerifyResponse'
              type: object
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/response.ErrorResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/response.ErrorResponse'
      summary: Verify account invite
      tags:
      - Account
  /account/verify/resend:
    post:
      consumes:
      - application/json
      description: Resends the email verification link to the user's email address
      parameters:
      - description: Cloudflare token
        in: body
        name: body
        required: true
        schema:
          $ref: '#/definitions/accounts.ResendVerifyEmailPayload'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/response.SuccessResponse'
            - properties:
                data:
                  type: boolean
              type: object
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/response.ErrorResponse'
        "429":
          description: Too Many Requests
          schema:
            $ref: '#/definitions/response.ErrorResponse'
      summary: Resend verification email
      tags:
      - Account
  /admin/account:
    get:
      consumes:
      - application/json
      description: List Account
      parameters:
      - description: search by q
        in: query
        name: q
        type: string
      - default: 100
        description: limit results
        in: query
        maximum: 1000
        minimum: 1
        name: limit
        type: integer
      - default: 0
        description: offset results
        in: query
        minimum: 0
        name: offset
        type: integer
      - default: created_at desc
        description: sort results e.g. 'created_at desc'
        in: query
        name: order
        type: string
      - description: filters, see readme
        in: query
        name: filters
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/response.SuccessResponse'
            - properties:
                data:
                  items:
                    $ref: '#/definitions/account.AccountJoined'
                  type: array
              type: object
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/response.ErrorResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/response.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/response.ErrorResponse'
      summary: List Account
      tags:
      - Account
      - AdminOnly
      - CRUD
  /admin/account/:
    post:
      consumes:
      - application/json
      description: Create Account
      parameters:
      - description: Account Data
        in: body
        name: data
        required: true
        schema:
          $ref: '#/definitions/account.Account'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/response.SuccessResponse'
            - properties:
                data:
                  $ref: '#/definitions/account.Account'
              type: object
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/response.ErrorResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/response.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/response.ErrorResponse'
      summary: Create Account
      tags:
      - Account
      - AdminOnly
      - CRUD
  /admin/account/{id}:
    get:
      consumes:
      - application/json
      description: Get Account
      parameters:
      - description: Account ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/response.SuccessResponse'
            - properties:
                data:
                  $ref: '#/definitions/account.AccountJoined'
              type: object
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/response.ErrorResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/response.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/response.ErrorResponse'
      summary: Get Account
      tags:
      - Account
      - AdminOnly
      - CRUD
    put:
      consumes:
      - application/json
      description: Update Account
      parameters:
      - description: Account ID
        in: path
        name: id
        required: true
        type: string
      - description: Account Data
        in: body
        name: data
        required: true
        schema:
          $ref: '#/definitions/account.Account'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/response.SuccessResponse'
            - properties:
                data:
                  $ref: '#/definitions/account.Account'
              type: object
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/response.ErrorResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/response.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/response.ErrorResponse'
      summary: Update Account
      tags:
      - Account
      - AdminOnly
      - CRUD
  /admin/account/count:
    get:
      consumes:
      - application/json
      description: Count Account
      parameters:
      - description: search by q
        in: query
        name: q
        type: string
      - description: filters, see readme
        in: query
        name: filters
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/response.SuccessResponse'
            - properties:
                data:
                  format: int64
                  type: integer
              type: object
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/response.ErrorResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/response.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/response.ErrorResponse'
      summary: Count Account
      tags:
      - Account
      - AdminOnly
      - CRUD
  /admin/account/testUser:
    post:
      consumes:
      - application/json
      description: Creates a test account with the provided details and optionally
        logs in as that account
      parameters:
      - description: Test user details
        in: body
        name: body
        required: true
        schema:
          $ref: '#/definitions/account_service.TestUserInput'
      - description: Set to login as the created user
        in: query
        name: login_as
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/response.SuccessResponse'
            - properties:
                data:
                  $ref: '#/definitions/account.Account'
              type: object
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/response.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/response.ErrorResponse'
      summary: Create test account
      tags:
      - Account
      - Admin
      - Store
  /admin/github_installation:
    get:
      consumes:
      - application/json
      description: List GithubInstallation
      parameters:
      - description: search by q
        in: query
        name: q
        type: string
      - default: 100
        description: limit results
        in: query
        maximum: 1000
        minimum: 1
        name: limit
        type: integer
      - default: 0
        description: offset results
        in: query
        minimum: 0
        name: offset
        type: integer
      - default: created_at desc
        description: sort results e.g. 'created_at desc'
        in: query
        name: order
        type: string
      - description: filters, see readme
        in: query
        name: filters
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/response.SuccessResponse'
            - properties:
                data:
                  items:
                    $ref: '#/definitions/github_installation.GithubInstallationJoined'
                  type: array
              type: object
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/response.ErrorResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/response.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/response.ErrorResponse'
      summary: List GithubInstallation
      tags:
      - GitHub
      - AdminOnly
      - CRUD
  /admin/github_installation/:
    post:
      consumes:
      - application/json
      description: Create GithubInstallation
      parameters:
      - description: GithubInstallation Data
        in: body
        name: data
        required: true
        schema:
          $ref: '#/definitions/github_installation.GithubInstallation'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/response.SuccessResponse'
            - properties:
                data:
                  $ref: '#/definitions/github_installation.GithubInstallation'
              type: object
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/response.ErrorResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/response.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/response.ErrorResponse'
      summary: Create GithubInstallation
      tags:
      - GitHub
      - AdminOnly
      - CRUD
  /admin/github_installation/{id}:
    get:
      consumes:
      - application/json
      description: Get GithubInstallation
      parameters:
      - description: GithubInstallation ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/response.SuccessResponse'
            - properties:
                data:
                  $ref: '#/definitions/github_installation.GithubInstallationJoined'
              type: object
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/response.ErrorResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/response.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/response.ErrorResponse'
      summary: Get GithubInstallation
      tags:
      - GitHub
      - AdminOnly
      - CRUD
    put:
      consumes:
      - application/json
      description: Update GithubInstallation
      parameters:
      - description: GithubInstallation ID
        in: path
        name: id
        required: true
        type: string
      - description: GithubInstallation Data
        in: body
        name: data
        required: true
        schema:
          $ref: '#/definitions/github_installation.GithubInstallation'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/response.SuccessResponse'
            - properties:
                data:
                  $ref: '#/definitions/github_installation.GithubInstallation'
              type: object
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/response.ErrorResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/response.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/response.ErrorResponse'
      summary: Update GithubInstallation
      tags:
      - GitHub
      - AdminOnly
      - CRUD
  /admin/github_installation/callback:
    post:
      consumes:
      - application/json
      description: Processes GitHub App installation webhooks (created, deleted, suspend,
        unsuspend)
      parameters:
      - description: GitHub webhook signature
        in: header
        name: X-Hub-Signature-256
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/response.SuccessResponse'
            - properties:
                data:
                  type: string
              type: object
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/response.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/response.ErrorResponse'
      summary: GitHub Installation Webhook
      tags:
      - GitHub
  /admin/github_installation/count:
    get:
      consumes:
      - application/json
      description: Count GithubInstallation
      parameters:
      - description: search by q
        in: query
        name: q
        type: string
      - description: filters, see readme
        in: query
        name: filters
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/response.SuccessResponse'
            - properties:
                data:
                  format: int64
                  type: integer
              type: object
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/response.ErrorResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/response.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/response.ErrorResponse'
      summary: Count GithubInstallation
      tags:
      - GitHub
      - AdminOnly
      - CRUD
  /admin/sandbox/:
    post:
      consumes:
      - application/json
      description: Creates a new sandbox using a premade template based on provider/agent
      parameters:
      - description: Sandbox creation request
        in: body
        name: data
        required: true
        schema:
          $ref: '#/definitions/sandboxes.CreateSandboxTemplateRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/response.SuccessResponse'
            - properties:
                data:
                  $ref: '#/definitions/sandbox.Sandbox'
              type: object
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/response.ErrorResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/response.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/response.ErrorResponse'
      summary: Create sandbox
      tags:
      - Sandbox
      - AdminOnly
  /admin/sandbox/{id}/claude:
    post:
      consumes:
      - application/json
      description: Executes Claude Code CLI in a sandbox and streams output using
        Server-Sent Events (SSE)
      parameters:
      - description: Sandbox ID
        in: path
        name: id
        required: true
        type: string
      - description: Claude execution request
        in: body
        name: data
        required: true
        schema:
          $ref: '#/definitions/sandboxes.ClaudeRequest'
      produces:
      - text/event-stream
      responses:
        "200":
          description: SSE stream
          schema:
            type: string
        "400":
          description: Bad Request
          schema:
            type: string
        "404":
          description: Not Found
          schema:
            type: string
        "500":
          description: Internal Server Error
          schema:
            type: string
      summary: Execute Claude with streaming
      tags:
      - Sandbox
      - AdminOnly
  /admin/sandbox/{id}/files:
    get:
      consumes:
      - application/json
      description: Lists files in a sandbox volume or S3 bucket with pagination
      parameters:
      - description: Sandbox ID
        in: path
        name: id
        required: true
        type: string
      - default: volume
        description: Source location (volume or s3)
        enum:
        - volume
        - s3
        in: query
        name: source
        type: string
      - description: Root path to list from (e.g., /workspace/src)
        in: query
        name: path
        type: string
      - default: true
        description: Include subdirectories
        in: query
        name: recursive
        type: boolean
      - default: 1
        description: Page number
        in: query
        minimum: 1
        name: page
        type: integer
      - default: 100
        description: Items per page
        in: query
        maximum: 1000
        minimum: 1
        name: per_page
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/response.SuccessResponse'
            - properties:
                data:
                  $ref: '#/definitions/sandbox_service.FileListResponse'
              type: object
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/response.ErrorResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/response.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/response.ErrorResponse'
      summary: List files in sandbox
      tags:
      - Sandbox
      - AdminOnly
  /admin/sandbox/{id}/files/content:
    get:
      consumes:
      - application/json
      description: Retrieves and serves the raw content of a file from a sandbox (not
        wrapped in JSON)
      parameters:
      - description: Sandbox ID
        in: path
        name: id
        required: true
        type: string
      - description: Full path to the file (e.g., /workspace/test.txt)
        in: query
        name: file_path
        required: true
        type: string
      - default: volume
        description: Source location (volume or s3)
        enum:
        - volume
        - s3
        in: query
        name: source
        type: string
      produces:
      - application/octet-stream
      responses:
        "200":
          description: File content
          schema:
            type: file
        "400":
          description: Bad Request
          schema:
            type: string
        "404":
          description: Not Found
          schema:
            type: string
        "500":
          description: Internal Server Error
          schema:
            type: string
      summary: Get file content from sandbox
      tags:
      - Sandbox
      - AdminOnly
  /admin/sandbox/{id}/files/tree:
    get:
      consumes:
      - application/json
      description: Retrieves a hierarchical tree structure of files in a sandbox
      parameters:
      - description: Sandbox ID
        in: path
        name: id
        required: true
        type: string
      - default: volume
        description: Source location (volume or s3)
        enum:
        - volume
        - s3
        in: query
        name: source
        type: string
      - default: ""
        description: Root path to list from
        in: query
        name: path
        type: string
      - default: true
        description: Include subdirectories
        in: query
        name: recursive
        type: boolean
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/response.SuccessResponse'
            - properties:
                data:
                  $ref: '#/definitions/sandbox_service.FileTreeNode'
              type: object
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/response.ErrorResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/response.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/response.ErrorResponse'
      summary: Get file tree structure
      tags:
      - Sandbox
      - AdminOnly
  /api/account/{id}:
    get:
      consumes:
      - application/json
      description: Retrieves account and associated organization data by account ID
      parameters:
      - description: Account ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/response.SuccessResponse'
            - properties:
                data:
                  $ref: '#/definitions/accounts.APIResponse'
              type: object
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/response.ErrorResponse'
      summary: Get account with organization
      tags:
      - Account
  /sandbox/:
    post:
      consumes:
      - application/json
      description: Creates a new sandbox using a premade template based on provider/agent
      parameters:
      - description: Sandbox creation request
        in: body
        name: data
        required: true
        schema:
          $ref: '#/definitions/sandboxes.CreateSandboxTemplateRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/response.SuccessResponse'
            - properties:
                data:
                  $ref: '#/definitions/sandbox.SandboxPublic'
              type: object
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/response.ErrorResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/response.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/response.ErrorResponse'
      summary: Create sandbox
      tags:
      - Sandbox
  /sandbox/{id}:
    delete:
      consumes:
      - application/json
      description: Terminates a sandbox and soft-deletes the database record
      parameters:
      - description: Sandbox ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/response.SuccessResponse'
            - properties:
                data:
                  $ref: '#/definitions/sandbox.SandboxPublic'
              type: object
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/response.ErrorResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/response.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/response.ErrorResponse'
      summary: Delete sandbox
      tags:
      - Sandbox
    put:
      consumes:
      - application/json
      description: Updates sandbox metadata
      parameters:
      - description: Sandbox ID
        in: path
        name: id
        required: true
        type: string
      - description: Sandbox Data
        in: body
        name: data
        required: true
        schema:
          $ref: '#/definitions/sandbox.SandboxPublic'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/response.SuccessResponse'
            - properties:
                data:
                  $ref: '#/definitions/sandbox.SandboxPublic'
              type: object
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/response.ErrorResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/response.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/response.ErrorResponse'
      summary: Update sandbox
      tags:
      - Sandbox
  /sandbox/{id}/claude:
    post:
      consumes:
      - application/json
      description: Executes Claude Code CLI in a sandbox and streams output using
        Server-Sent Events (SSE)
      parameters:
      - description: Sandbox ID
        in: path
        name: id
        required: true
        type: string
      - description: Claude execution request
        in: body
        name: data
        required: true
        schema:
          $ref: '#/definitions/sandboxes.ClaudeRequest'
      produces:
      - text/event-stream
      responses:
        "200":
          description: SSE stream
          schema:
            type: string
        "400":
          description: Bad Request
          schema:
            type: string
        "404":
          description: Not Found
          schema:
            type: string
        "500":
          description: Internal Server Error
          schema:
            type: string
      summary: Execute Claude with streaming
      tags:
      - Sandbox
  /sandbox/{id}/files:
    get:
      consumes:
      - application/json
      description: Lists files in a sandbox volume or S3 bucket with pagination
      parameters:
      - description: Sandbox ID
        in: path
        name: id
        required: true
        type: string
      - default: volume
        description: Source location (volume or s3)
        enum:
        - volume
        - s3
        in: query
        name: source
        type: string
      - description: Root path to list from (e.g., /workspace/src)
        in: query
        name: path
        type: string
      - default: true
        description: Include subdirectories
        in: query
        name: recursive
        type: boolean
      - default: 1
        description: Page number
        in: query
        minimum: 1
        name: page
        type: integer
      - default: 100
        description: Items per page
        in: query
        maximum: 1000
        minimum: 1
        name: per_page
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/response.SuccessResponse'
            - properties:
                data:
                  $ref: '#/definitions/sandbox_service.FileListResponse'
              type: object
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/response.ErrorResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/response.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/response.ErrorResponse'
      summary: List files in sandbox
      tags:
      - Sandbox
  /sandbox/{id}/files/content:
    get:
      consumes:
      - application/json
      description: Retrieves and serves the raw content of a file from a sandbox (not
        wrapped in JSON)
      parameters:
      - description: Sandbox ID
        in: path
        name: id
        required: true
        type: string
      - description: Full path to the file (e.g., /workspace/test.txt)
        in: query
        name: file_path
        required: true
        type: string
      - default: volume
        description: Source location (volume or s3)
        enum:
        - volume
        - s3
        in: query
        name: source
        type: string
      produces:
      - application/octet-stream
      responses:
        "200":
          description: File content
          schema:
            type: file
        "400":
          description: Bad Request
          schema:
            type: string
        "404":
          description: Not Found
          schema:
            type: string
        "500":
          description: Internal Server Error
          schema:
            type: string
      summary: Get file content from sandbox
      tags:
      - Sandbox
  /sandbox/{id}/files/tree:
    get:
      consumes:
      - application/json
      description: Retrieves a hierarchical tree structure of files in a sandbox
      parameters:
      - description: Sandbox ID
        in: path
        name: id
        required: true
        type: string
      - default: volume
        description: Source location (volume or s3)
        enum:
        - volume
        - s3
        in: query
        name: source
        type: string
      - default: ""
        description: Root path to list from
        in: query
        name: path
        type: string
      - default: true
        description: Include subdirectories
        in: query
        name: recursive
        type: boolean
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/response.SuccessResponse'
            - properties:
                data:
                  $ref: '#/definitions/sandbox_service.FileTreeNode'
              type: object
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/response.ErrorResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/response.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/response.ErrorResponse'
      summary: Get file tree structure
      tags:
      - Sandbox
  /sandbox/{id}/sync:
    post:
      consumes:
      - application/json
      description: Syncs the sandbox volume to S3 without terminating for manual backups/snapshots
      parameters:
      - description: Sandbox ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/response.SuccessResponse'
            - properties:
                data:
                  $ref: '#/definitions/sandboxes.SyncSandboxResponse'
              type: object
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/response.ErrorResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/response.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/response.ErrorResponse'
      summary: Sync sandbox to S3
      tags:
      - Sandbox
  /signup:
    post:
      consumes:
      - application/json
      description: Creates a new account with email and password or completes invited
        user signup
      parameters:
      - description: Signup data
        in: body
        name: body
        required: true
        schema:
          type: object
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/response.SuccessResponse'
            - properties:
                data:
                  $ref: '#/definitions/accounts.SignupResponse'
              type: object
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/response.ErrorResponse'
        "409":
          description: Conflict
          schema:
            $ref: '#/definitions/response.ErrorResponse'
      summary: Standard signup
      tags:
      - Account
  /signup/oauth:
    post:
      consumes:
      - application/json
      description: Completes signup process for OAuth authenticated users
      parameters:
      - description: Signup data with OAuth token
        in: body
        name: body
        required: true
        schema:
          type: object
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/response.SuccessResponse'
            - properties:
                data:
                  $ref: '#/definitions/accounts.SignupResponse'
              type: object
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/response.ErrorResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/response.ErrorResponse'
        "409":
          description: Conflict
          schema:
            $ref: '#/definitions/response.ErrorResponse'
      summary: OAuth signup
      tags:
      - Account
swagger: "2.0"
